<!doctype html>
   	<html>
	<head>
		<title>NX Node Demo</title>
		<script src="/socket.io/socket.io.js"></script>
		<script type="text/javascript" src="lib/jquery.js"></script>
		<script type="text/javascript" src="lib/nexusUI.js"></script>
	
		<script>

			//change LOCALHOST to your IP to enable connecting from other devices

			var socket = io.connect('http://localhost:8080');

			


			nx.onload = function() {

				nx.sendsTo("js")

				//transmit all events
				//this should soon be encapsulated in a "node" transmission protocol
				for (var key in nx.nxObjects) {
					with (nx.nxObjects[key]) {
						for (var oscpath in val) {
							on(oscpath, function(data) {
								// code that will be executed
								console.log(canvasID, oscpath, data)
								var msg = {
									oscName: "/"+canvasID,
									value: data
								}
								socket.emit('nx', msg)
							})
						}
					}
				} 
			}
		
		</script>
		
	</head>
	
	<body>
			<canvas nx="position" style="width:48%"></canvas>
			<canvas nx="position" style="width:48%"></canvas>
			<canvas nx="button" style="width:150px;height:150px"></canvas>
			<canvas nx="button" style="width:150px;height:150px"></canvas>
			<canvas nx="button" style="width:150px;height:150px"></canvas>
			<canvas nx="button" style="width:150px;height:150px"></canvas>
			<canvas nx="button" style="width:150px;height:150px"></canvas>
			

			<canvas nx="dial" style="width:150px;height:150px"></canvas>
			<canvas nx="dial" style="width:150px;height:150px"></canvas>
			<canvas nx="dial" style="width:150px;height:150px"></canvas>
			<canvas nx="dial" style="width:150px;height:150px"></canvas>
			<canvas nx="dial" style="width:150px;height:150px"></canvas>

		<!--	<canvas nx="tilt" style="width:150px;height:150px"></canvas> -->
			<canvas nx="toggle" style="width:150px;height:150px"></canvas>
			<canvas nx="toggle" style="width:150px;height:150px"></canvas>
			<canvas nx="toggle" style="width:150px;height:150px"></canvas>
			<canvas nx="toggle" style="width:150px;height:150px"></canvas>
		
		<div>
			<canvas nx="slider"></canvas>
			<canvas nx="slider"></canvas>
			<canvas nx="slider"></canvas>
			<canvas nx="multislider"></canvas>
			<canvas nx="multislider"></canvas>

			<canvas nx="joints" style="width:770px;height:715px"></canvas>
		</div>
	
	</body>
	
</html>